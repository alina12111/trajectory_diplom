
# Стратегія резервного копіювання для trajectory_diplom

Цей документ містить покрокові рекомендації для release engineer/DevOps щодо організації ефективного резервного копіювання системи.

---

##  Типи резервних копій

Рекомендовано повне копіювання всієї директорії проєкту (включно з: users_db.json, trajectory_results.json, trajectory_calculator.py та іншими файлами налаштувань чи скриптами).

---

##  Частота резервного копіювання

| Компонент              | Частота         |
|------------------------|-----------------|
| Код та конфігурації    | Перед кожним оновленням або 1 раз на добу |
| Логи                   | Щодня або раз на тиждень |

---

## Зберігання та ротація

- Місце: `/home/backups/` або віддалене S3/Google Drive/інший сервер
- Зберігати останні 3 копій (видаляти старіші)

```bash
find /home/backups/ -type f -mtime +7 -delete
```

---

##  Що саме резервується

### Користувацькі дані

- `/data/` (якщо є завантаження)

###  Логи

- `/logs/`

---

## Перевірка цілісності

Після створення архіву:

```bash
tar -tzf trajectory_backup_2024-04-15.tar.gz
```

або перевірити хеш-суму:

```bash
sha256sum trajectory_backup_2024-04-15.tar.gz
```

---

## Автоматизація

### Скрипт для щоденного бекапу:

```bash
#!/bin/bash
cd /home/trajectory_user/
tar -czf /home/backups/trajectory_backup_$(date +%F).tar.gz trajectory_diplom
find /home/backups/ -type f -mtime +7 -delete
```


## Відновлення з резервної копії

### Повне відновлення

```bash
tar -xzf trajectory_backup_2024-04-15.tar.gz -C /home/trajectory_user/
```

### Вибіркове відновлення

```bash
tar -xzf trajectory_backup_2024-04-15.tar.gz trajectory_diplom/config.py
```

---

## Тестування відновлення

Раз на місяць: обрати одну резервну копію, розпакувати її, запустити програму, перевірити: чи відображаються дані користувача; чи можна побудувати графік на основі збережених даних.

